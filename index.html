<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/ar.js/2.2.1/aframe/build/aframe-ar.min.js"></script>
    <title>Spin the Wheel AR</title>
  </head>
  <body style="margin: 0; overflow: hidden;">
    <!-- A-Frame Scene -->
    <a-scene embedded arjs>
      <!-- Marker -->
      <a-marker preset="hiro">
        <!-- Create the Wheel -->
        <a-entity id="wheel" position="0 0 0" rotation="-90 0 0">
          <!-- Segment 1 -->
          <a-cylinder
            position="0 0 0.05"
            rotation="0 0 0"
            color="red"
            radius="1.5"
            height="0.1"
            segments="12"
            class="wheel-segment"
          ></a-cylinder>

          <!-- Segment 2 -->
          <a-cylinder
            position="0 0 0.05"
            rotation="30 0 0"
            color="blue"
            radius="1.5"
            height="0.1"
            segments="12"
            class="wheel-segment"
          ></a-cylinder>

          <!-- Segment 3 -->
          <a-cylinder
            position="0 0 0.05"
            rotation="60 0 0"
            color="green"
            radius="1.5"
            height="0.1"
            segments="12"
            class="wheel-segment"
          ></a-cylinder>

          <!-- Segment 4 -->
          <a-cylinder
            position="0 0 0.05"
            rotation="90 0 0"
            color="yellow"
            radius="1.5"
            height="0.1"
            segments="12"
            class="wheel-segment"
          ></a-cylinder>

          <!-- Segment 5 -->
          <a-cylinder
            position="0 0 0.05"
            rotation="120 0 0"
            color="purple"
            radius="1.5"
            height="0.1"
            segments="12"
            class="wheel-segment"
          ></a-cylinder>

          <!-- Segment 6 -->
          <a-cylinder
            position="0 0 0.05"
            rotation="150 0 0"
            color="orange"
            radius="1.5"
            height="0.1"
            segments="12"
            class="wheel-segment"
          ></a-cylinder>
        </a-entity>

        <!-- Sound when spinning -->
        <a-sound
          id="spinSound"
          src="https://cdn.pixabay.com/download/audio/2023/03/17/audio_5ff3013072.mp3"
          autoplay="false"
        ></a-sound>
      </a-marker>

      <!-- Camera -->
      <a-entity camera></a-entity>
    </a-scene>

    <script>
      // Adding interactivity to spin the wheel
      document.querySelector("#wheel").addEventListener("click", function () {
        // Play the sound
        const sound = document.querySelector("#spinSound");
        sound.components.sound.playSound();

        // Spin animation
        this.setAttribute("animation", {
          property: "rotation",
          to: "0 0 3600", // Spins multiple times
          dur: 5000, // Duration
          easing: "easeOutQuad",
          loop: false,
        });

        // Reset after spin
        setTimeout(() => {
          this.setAttribute("rotation", "0 0 0");
        }, 5000);
      });
    </script>
  </body>
</html>
